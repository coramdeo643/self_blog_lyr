{{> layout/header}}

<div class="container p-5">
    <div class="card">
        <div class="card-header"><b>글쓰기 화면입니다</b></div>
        <div class="card-body">
            <form action="/article/save" method="post">
                <div class="mb-3">
                </div>
                <div class="mb-3">
                    <input type="text" class="form-control" placeholder="Enter title" name="title">
                </div>
                <div class="mb-3">
                    <textarea class="form-control" rows="5" placeholder="Enter text" name="content"></textarea>
                </div>
<!--             게시글 사진 업로드 섹션    -->
                <div class="d-flex mb-3 " >
                    <div class="d-flex justify-content-center me-4 ">
                        <!--                     현재 이미지    -->
                        {{#article.pictureImagePath}}
                            <img src="{{article.pictureImagePath}}"
                                 class="rounded d-flex justify-content-center"
                                 style="width:100px; height:100px; object-fit: cover">
                        {{/article.pictureImagePath}}
                        {{^article.pictureImagePath}}
                            <div class="bg-secondary rounded d-flex justify-content-center align-items-center "
                                 style="width: 100px; height:100px; border: 3px solid #dee2e6;">
                                <i class="fas fa-image fa-4x text-white"></i>
                            </div>
                        {{/article.pictureImagePath}}
                    </div>
                    <div class="d-flex align-content-center flex-wrap">
                        <!--                    파일 업로드 폼 -->
                        <form action="/article/{{article.id}}/upload-photo" method="post"
                              enctype="multipart/form-data" class="mb-3">
                            <div class="me-2">
                                <input type="file" class="form-control form-control-sm" alt=""
                                       name="photoImage" accept="image/*" required>
                            </div>
                            <div class="me-2">
                                <button type="submit" class="btn btn-success btn-sm">
                                    <i class="fas fa-upload"></i> 업로드
                                </button>
                            </div>
                        </form>
                        <!--                     이미지 삭제 버튼-->
                        {{#article.pictureImagePath}}
                            <form action="/article/{{article.id}}/delete-photo" method="post">
                                <button type="submit" class="btn btn-danger btn-sm me-2"
                                        onclick="return confirm('사진을 삭제하시겠습니까?')">
                                    <i class="fas fa-trash"></i> 삭제
                                </button>
                            </form>
                        {{/article.pictureImagePath}}
                    </div>
                </div>
                <button class="btn btn-primary form-control">작성완료</button>
            </form>
        </div>
    </div>
</div>

{{> layout/footer}}